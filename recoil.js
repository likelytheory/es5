// Recoil 0.5.2 - MIT Licensed
var e,t,n=require("@babel/runtime/helpers/toArray"),r=require("@babel/runtime/helpers/toConsumableArray"),o=require("@babel/runtime/helpers/objectWithoutProperties"),a=require("@babel/runtime/helpers/asyncToGenerator"),i=require("@babel/runtime/helpers/slicedToArray"),u=require("@babel/runtime/helpers/wrapNativeSuper"),l=require("@babel/runtime/regenerator"),c=require("@babel/runtime/helpers/defineProperty"),s=require("@babel/runtime/helpers/assertThisInitialized"),f=require("@babel/runtime/helpers/inherits"),d=require("@babel/runtime/helpers/possibleConstructorReturn"),v=require("@babel/runtime/helpers/getPrototypeOf"),h=require("@babel/runtime/helpers/classCallCheck"),y=require("@babel/runtime/helpers/createClass"),p=require("@babel/runtime/helpers/typeof"),m=["override"],g=["default"],_=["cachePolicyForParams_UNSTABLE"];function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}e=this,t=function(e,t,d){var v=l.mark(Ke),S=l.mark(Zt);t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;var w=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},T=function(e){return!!e&&"function"==typeof e.then},R=function(e,t){if(null!=e)return e;throw w(null!=t?t:"Got unexpected null or undefined")};function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(){function e(){h(this,e)}return y(e,[{key:"getValue",value:function(){throw w("BaseLoadable")}},{key:"toPromise",value:function(){throw w("BaseLoadable")}},{key:"valueMaybe",value:function(){throw w("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw w('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw w("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw w('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw w("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw w('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw w("BaseLoadable")}}]),e}(),V=function(e){f(n,e);var t=A(n);function n(e){var r;return h(this,n),r=t.call(this),E(s(r),"state","hasValue"),E(s(r),"contents",void 0),r.contents=e,r}return y(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return T(n)?U(n):D(n)?n:C(n)}catch(n){return T(n)?U(n.next((function(){return t.map(e)}))):B(n)}}}]),n}(N),L=function(e){f(n,e);var t=A(n);function n(e){var r;return h(this,n),r=t.call(this),E(s(r),"state","hasError"),E(s(r),"contents",void 0),r.contents=e,r}return y(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(N),M=function(e){f(n,e);var t=A(n);function n(e){var r;return h(this,n),r=t.call(this),E(s(r),"state","loading"),E(s(r),"contents",void 0),r.contents=e,r}return y(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return U(this.contents.then((function(t){var n=e(t);if(D(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(T(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(N);function C(e){return Object.freeze(new V(e))}function B(e){return Object.freeze(new L(e))}function U(e){return Object.freeze(new M(e))}function x(e){var t=function(e){return e.every((function(e){return"hasValue"===e.state}))?C(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?B(R(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):U(Promise.all(e.map((function(e){return e.contents}))))}(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]})));return Array.isArray(e)?t:t.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return k(k({},e),{},c({},n,t[r]))}),{})}))}function D(e){return e instanceof N}var O,I={of:function(e){return T(e)?U(e):C(e)},error:function(e){return B(e)},all:x,isLoadable:D},P={loadableWithValue:C,loadableWithError:B,loadableWithPromise:U,loadableLoading:function(){return Object.freeze(new M(new Promise((function(){}))))},loadableAll:x,isLoadable:D,RecoilLoadable:I},F=P.loadableWithValue,z=P.loadableWithError,j=P.loadableWithPromise,q=P.loadableLoading,W=P.loadableAll,K=P.isLoadable,H=P.RecoilLoadable,G=Object.freeze({__proto__:null,loadableWithValue:F,loadableWithError:z,loadableWithPromise:j,loadableLoading:q,loadableAll:W,isLoadable:K,RecoilLoadable:H}),$=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0;return e.replace(/%s/g,(function(){return String(n[o++])}))},Z=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=$.call.apply($,[null,e].concat(n)),a=new Error(o);a.name="Expectation Violation",console.error(a)},J=Z,X=null!==(O=t.useMutableSource)&&void 0!==O?O:t.unstable_useMutableSource,Y={mutableSourceExists:function(){return X&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:X},Q=Y.mutableSourceExists,ee=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function te(e){var t;return!("recoil_early_rendering_2021"===e&&!Q())&&null!==(t=ee.get(e))&&void 0!==t&&t}te.setPass=function(e){ee.set(e,!0)},te.setFail=function(e){ee.set(e,!1)};var ne=te,re=function(e,t){return l.mark((function n(){var r,o,a,i;return l.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,o=b(e),n.prev=2,o.s();case 4:if((a=o.n()).done){n.next=10;break}return i=a.value,n.next=8,t(i,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),o.e(n.t0);case 15:return n.prev=15,o.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.error;return console.error(e,r),null},ae=oe,ie=function e(t){h(this,e),E(this,"key",void 0),this.key=t},ue=function(e){f(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(ie),le=function(e){f(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(ie),ce={AbstractRecoilValue:ie,RecoilState:ue,RecoilValueReadOnly:le,isRecoilValue:function(e){return e instanceof ue||e instanceof le}},se=ce.AbstractRecoilValue,fe=ce.RecoilState,de=ce.RecoilValueReadOnly,ve=ce.isRecoilValue,he=Object.freeze({__proto__:null,AbstractRecoilValue:se,RecoilState:fe,RecoilValueReadOnly:de,isRecoilValue:ve}),ye=function e(){h(this,e)},pe=new ye,me=function(e){f(n,e);var t=A(n);function n(e){return h(this,n),t.call(this,"Tried to set the value of Recoil selector ".concat(e," using an updater function, but it is an async selector in a pending or error state; this is not supported."))}return n}(u(Error)),ge=new Map,_e=new Map,be=function(e){f(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(u(Error)),Se=new Map;function we(e){return Se.get(e)}var ke={nodes:ge,recoilValues:_e,registerNode:function(e){if(ge.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}ge.set(e.key,e);var n=null==e.set?new he.RecoilValueReadOnly(e.key):new he.RecoilState(e.key);return _e.set(e.key,n),n},getNode:function(e){var t=ge.get(e);if(null==t)throw new be('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return ge.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(ne("recoil_memory_managament_2020")){var n,r=ge.get(e);(null==r||null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))&&(ge.delete(e),null===(n=we(e))||void 0===n||n(),Se.delete(e))}},setConfigDeletionHandler:function(e,t){ne("recoil_memory_managament_2020")&&(void 0===t?Se.delete(e):Se.set(e,t))},getConfigDeletionHandler:we,recoilValuesForKeys:function(e){return re(e,(function(e){return R(_e.get(e))}))},NodeMissingError:be,DefaultValue:ye,DEFAULT_VALUE:pe,RecoilValueNotReady:me},Ae={enqueueExecution:function(e,t){t()}},Te=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"==typeof Symbol&&"symbol"===p(Symbol.iterator)?function(e){return p(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":p(e)},n={},r=Math.pow(2,5),o=r-1,a=r/2,i=r/4,u={},l=function(e){return function(){return e}},c=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,o=0,a=e.length;o<a;++o)r=(r<<5)-r+e.charCodeAt(o)|0;return r},s=function(e,t){return t>>>e&o},f=function(e){return 1<<e},d=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},v=function(e,t,n,r){var o=r;if(!e){var a=r.length;o=new Array(a);for(var i=0;i<a;++i)o[i]=r[i]}return o[t]=n,o},h=function(e,t,n){var r=n.length-1,o=0,a=0,i=n;if(e)o=a=t;else for(i=new Array(r);o<t;)i[a++]=n[o++];for(++o;o<=r;)i[a++]=n[o++];return e&&(i.length=r),i},y={__hamt_isEmpty:!0},m=function(e){return e===y||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:A}},_=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:T}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:R}},S=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:E}},w=function e(t,n,r,o,a,i){if(r===a)return _(t,r,[i,o]);var u=s(n,r),l=s(n,a);return b(t,f(u)|f(l),u===l?[e(t,n+5,r,o,a,i)]:u<l?[o,i]:[i,o])},k=function(e,t){return e===t.edit},A=function(e,t,n,r,o,a,i){if(t(a,this.key)){var l=r(this.value);return l===this.value?this:l===u?(--i.value,y):k(e,this)?(this.value=l,this):g(e,o,a,l)}var c=r();return c===u?this:(++i.value,w(e,n,this.hash,this,o,g(e,o,a,c)))},T=function(e,t,n,r,o,a,i){if(o===this.hash){var l=function(e,t,n,r,o,a,i,l){for(var c=o.length,s=0;s<c;++s){var f=o[s];if(n(i,f.key)){var d=f.value,y=a(d);return y===d?o:y===u?(--l.value,h(e,s,o)):v(e,s,g(t,r,i,y),o)}}var p=a();return p===u?o:(++l.value,v(e,c,g(t,r,i,p),o))}(k(e,this),e,t,this.hash,this.children,r,a,i);return l===this.children?this:l.length>1?_(e,this.hash,l):l[0]}var c=r();return c===u?this:(++i.value,w(e,n,this.hash,this,o,g(e,o,a,c)))},R=function(e,t,n,r,o,i,u){var l=this.mask,c=this.children,p=s(n,o),g=f(p),_=d(l,g),w=l&g,A=w?c[_]:y,T=A._modify(e,t,n+5,r,o,i,u);if(A===T)return this;var R,E=k(e,this),N=l,V=void 0;if(w&&m(T)){if(!(N&=~g))return y;if(c.length<=2&&((R=c[1^_])===y||1===R.type||2===R.type))return c[1^_];V=h(E,_,c)}else if(w||m(T))V=v(E,_,T,c);else{if(c.length>=a)return function(e,t,n,r,o){for(var a=[],i=r,u=0,l=0;i;++l)1&i&&(a[l]=o[u++]),i>>>=1;return a[t]=n,S(e,u+1,a)}(e,p,T,l,c);N|=g,V=function(e,t,n,r){var o=r.length;if(e){for(var a=o;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var i=0,u=0,l=new Array(o+1);i<t;)l[u++]=r[i++];for(l[t]=n;i<o;)l[++u]=r[i++];return l}(E,_,T,c)}return E?(this.mask=N,this.children=V,this):b(e,N,V)},E=function(e,t,n,r,o,a,u){var l=this.size,c=this.children,f=s(n,o),d=c[f],h=(d||y)._modify(e,t,n+5,r,o,a,u);if(d===h)return this;var p=k(e,this),g=void 0;if(m(d)&&!m(h))++l,g=v(p,f,h,c);else if(!m(d)&&m(h)){if(--l<=i)return function(e,t,n,r){for(var o=new Array(t-1),a=0,i=0,u=0,l=r.length;u<l;++u)if(u!==n){var c=r[u];c&&!m(c)&&(o[a++]=c,i|=1<<u)}return b(e,i,o)}(e,l,f,c);g=v(p,f,y,c)}else g=v(p,f,h,c);return p?(this.size=l,this.children=g,this):S(e,l,g)};function N(e,t,n,r,o){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=o}y._modify=function(e,t,n,r,o,a,i){var l=r();return l===u?y:(++i.value,g(e,o,a,l))},N.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new N(this._editable,this._edit,this._config,e,t)};var V=n.tryGetHash=function(e,t,n,r){for(var o=r._root,a=0,i=r._config.keyEq;;)switch(o.type){case 1:return i(n,o.key)?o.value:e;case 2:if(t===o.hash)for(var u=o.children,l=0,c=u.length;l<c;++l){var v=u[l];if(i(n,v.key))return v.value}return e;case 3:var h=s(a,t),y=f(h);if(o.mask&y){o=o.children[d(o.mask,y)],a+=5;break}return e;case 4:if(o=o.children[s(a,t)]){a+=5;break}return e;default:return e}};N.prototype.tryGetHash=function(e,t,n){return V(e,t,n,this)};var L=n.tryGet=function(e,t,n){return V(e,n._config.hash(t),t,n)};N.prototype.tryGet=function(e,t){return L(e,t,this)};var M=n.getHash=function(e,t,n){return V(void 0,e,t,n)};N.prototype.getHash=function(e,t){return M(e,t,this)},n.get=function(e,t){return V(void 0,t._config.hash(e),e,t)},N.prototype.get=function(e,t){return L(t,e,this)};var C=n.has=function(e,t,n){return V(u,e,t,n)!==u};N.prototype.hasHash=function(e,t){return C(e,t,this)};var B=n.has=function(e,t){return C(t._config.hash(e),e,t)};N.prototype.has=function(e){return B(e,this)};var U=function(e,t){return e===t};n.make=function(e){return new N(0,0,{keyEq:e&&e.keyEq||U,hash:e&&e.hash||c},y,0)},n.empty=n.make();var x=n.isEmpty=function(e){return e&&!!m(e._root)};N.prototype.isEmpty=function(){return x(this)};var D=n.modifyHash=function(e,t,n,r){var o={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,o);return r.setTree(a,o.value)};N.prototype.modifyHash=function(e,t,n){return D(n,e,t,this)};var O=n.modify=function(e,t,n){return D(e,n._config.hash(t),t,n)};N.prototype.modify=function(e,t){return O(t,e,this)};var I=n.setHash=function(e,t,n,r){return D(l(n),e,t,r)};N.prototype.setHash=function(e,t,n){return I(e,t,n,this)};var P=n.set=function(e,t,n){return I(n._config.hash(e),e,t,n)};N.prototype.set=function(e,t){return P(e,t,this)};var F=l(u),z=n.removeHash=function(e,t,n){return D(F,e,t,n)};N.prototype.removeHash=N.prototype.deleteHash=function(e,t){return z(e,t,this)};var j=n.remove=function(e,t){return z(t._config.hash(e),e,t)};N.prototype.remove=N.prototype.delete=function(e){return j(e,this)};var q=n.beginMutation=function(e){return new N(e._editable+1,e._edit+1,e._config,e._root,e._size)};N.prototype.beginMutation=function(){return q(this)};var W=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};N.prototype.endMutation=function(){return W(this)};var K=n.mutate=function(e,t){var n=q(t);return e(n),W(n)};N.prototype.mutate=function(e){return K(e,this)};var H=function(e){return e&&G(e[0],e[1],e[2],e[3],e[4])},G=function(e,t,n,r,o){for(;n<e;){var a=t[n++];if(a&&!m(a))return $(a,r,[e,t,n,r,o])}return H(o)},$=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return G(r.length,r,0,t,n);default:return H(n)}},Z={done:!0};function J(e){this.v=e}J.prototype.next=function(){if(!this.v)return Z;var e=this.v;return this.v=H(e.rest),e},J.prototype[Symbol.iterator]=function(){return this};var X=function(e,t){return new J($(e._root,t))},Y=function(e){return[e.key,e.value]},Q=n.entries=function(e){return X(e,Y)};N.prototype.entries=N.prototype[Symbol.iterator]=function(){return Q(this)};var ee=function(e){return e.key},te=n.keys=function(e){return X(e,ee)};N.prototype.keys=function(){return te(this)};var ne=function(e){return e.value},re=n.values=N.prototype.values=function(e){return X(e,ne)};N.prototype.values=function(){return re(this)};var oe=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var o=[r.children],a=void 0;a=o.pop();)for(var i=0,u=a.length;i<u;){var l=a[i++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):o.push(l.children))}return t};N.prototype.fold=function(e,t){return oe(e,t,this)};var ae=n.forEach=function(e,t){return oe((function(n,r,o){return e(r,o,t)}),null,t)};N.prototype.forEach=function(e){return ae(e,this)};var ie=n.count=function(e){return e._size};N.prototype.count=function(){return ie(this)},Object.defineProperty(N.prototype,"size",{get:N.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),Re=function(){function e(t){h(this,e),E(this,"_map",void 0),this._map=new Map(null==t?void 0:t.entries())}return y(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return Ne(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),Ee=function(){function e(t){if(h(this,e),E(this,"_hamt",Te.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,o=b(t.entries());try{for(o.s();!(r=o.n()).done;){var a=i(r.value,2),u=a[0],l=a[1];this._hamt.set(u,l)}}catch(e){o.e(e)}finally{o.f()}}}return y(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return Ne(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function Ne(e){return ne("recoil_hamt_2020")?new Ee(e):new Re(e)}var Ve=Ne,Le=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a,i=b(e);try{e:for(i.s();!(a=i.n()).done;){var u,l=a.value,c=b(r);try{for(c.s();!(u=c.n()).done;){var s=u.value;if(s.has(l))continue e}}catch(e){c.e(e)}finally{c.f()}t.add(l)}}catch(e){i.e(e)}finally{i.f()}return t},Me=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Ce(e,t,n){var r=t.nodeDeps,o=t.nodeToNodeSubscriptions;e.forEach((function(e,t){var a=r.get(t);a&&n&&a!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==a?e:Le(e,a)).forEach((function(e){o.has(e)||o.set(e,new Set),R(o.get(e)).add(t)})),a&&Le(a,e).forEach((function(e){if(o.has(e)){var n=R(o.get(e));n.delete(t),0===n.size&&o.delete(e)}})))}))}var Be=function(e){return{nodeDeps:Me(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:Me(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Ue=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},xe=function(e,t,n){var r,o,a,i,u=t.getState();n!==u.currentTree.version&&n!==(null===(r=u.nextTree)||void 0===r?void 0:r.version)&&n!==(null===(o=u.previousTree)||void 0===o?void 0:o.version)&&ae("Tried to save dependencies to a discarded tree");var l=t.getGraph(n);if(Ce(e,l),n===(null===(a=u.previousTree)||void 0===a?void 0:a.version)&&Ce(e,t.getGraph(u.currentTree.version),l),n===(null===(i=u.previousTree)||void 0===i?void 0:i.version)||n===u.currentTree.version){var c,s=null===(c=u.nextTree)||void 0===c?void 0:c.version;void 0!==s&&Ce(e,t.getGraph(s),l)}},De=Object.freeze({__proto__:null,persistentMap:Ve}).persistentMap,Oe=Ue,Ie=0,Pe=function(){return Ie++};function Fe(){var e=Pe();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:De(),nonvalidatedAtoms:De()}}var ze=function(){var e=Fe();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,Oe()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},je=Pe,qe=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i,u=a[o],l=b(u);try{for(l.s();!(i=l.n()).done;){var c=i.value;e.add(c)}}catch(e){l.e(e)}finally{l.f()}}return e},We=function(e,t){var n=new Set(e);return n.add(t),n};function Ke(e,t){var n,r,o,a;return l.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=0,r=b(e),i.prev=2,r.s();case 4:if((o=r.n()).done){i.next=11;break}if(a=o.value,!t(a,n++)){i.next=9;break}return i.next=9,a;case 9:i.next=4;break;case 11:i.next=16;break;case 13:i.prev=13,i.t0=i.catch(2),r.e(i.t0);case 16:return i.prev=16,r.f(),i.finish(16);case 19:case"end":return i.stop()}}),v,null,[[2,13,16,19]])}var He=Ke,Ge=function e(){h(this,e)},$e=Ge,Ze=function(){return new Ge},Je=We,Xe=ke.getNode,Ye=ke.getNodeMaybe,Qe=ke.recoilValuesForKeys,et=$e,tt=Object.freeze(new Set),nt=function(e){f(n,e);var t=A(n);function n(){return h(this,n),t.apply(this,arguments)}return n}(u(Error));function rt(e,t,n,r){var o=e.getState();if(!o.nodeCleanupFunctions.has(n)){var a=Xe(n),i=function(e,t,n){if(!ne("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function o(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof et)o(n);else if(Array.isArray(n)){var a,i=b(n);try{for(i.s();!(a=i.n()).done;)o(a.value)}catch(e){i.e(e)}finally{i.f()}}return function(){if(ne("recoil_memory_managament_2020")){var r=e.getState().retention.nodesRetainedByZone;if(n instanceof et)i(n);else if(Array.isArray(n)){var o,a=b(n);try{for(a.s();!(o=a.n()).done;)i(o.value)}catch(e){a.e(e)}finally{a.f()}}}function i(e){var n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}}}(e,n,a.retainedBy),u=a.init(e,t,r);o.nodeCleanupFunctions.set(n,(function(){u(),i()}))}}function ot(e,t,n){return Xe(n).peek(e,t)}function at(e,t,n){for(var r=new Set,o=Array.from(n),a=e.getGraph(t.version),i=o.pop();i;i=o.pop()){var u;r.add(i);var l,c=b(null!==(u=a.nodeToNodeSubscriptions.get(i))&&void 0!==u?u:tt);try{for(c.s();!(l=c.n()).done;){var s=l.value;r.has(s)||o.push(s)}}catch(e){c.e(e)}finally{c.f()}}return r}var it=function(e,t,n){return rt(e,t,n,"get"),Xe(n).get(e,t)},ut=ot,lt=function(e,t,n,r){var o=Xe(n);if(null==o.set)throw new nt("Attempt to set read-only RecoilValue: ".concat(n));var a=o.set;return rt(e,t,n,"set"),a(e,t,r)},ct=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},st=function(e,t,n){var r,o=Ye(t);return null==o||null===(r=o.invalidate)||void 0===r||r.call(o,e),k(k({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Je(e.dirtyAtoms,t)})},ft=function(e,t,n){var r,o,a,u=e.getState(),l=e.getGraph(t.version),c=u.knownAtoms.has(n)?"atom":u.knownSelectors.has(n)?"selector":void 0,s=He(at(e,t,new Set([n])),(function(e){return e!==n}));return{loadable:ot(e,t,n),isActive:u.knownAtoms.has(n)||u.knownSelectors.has(n),isSet:"selector"!==c&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:c,deps:Qe(null!==(r=l.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:Qe(s),components:re(null!==(o=null===(a=u.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==o?o:[],(function(e){return{name:i(e,1)[0]}}))}}},dt=at,vt=rt,ht=dt,yt=it,pt=lt,mt=ke.getNodeMaybe,gt=ke.DefaultValue,_t=ke.RecoilValueNotReady,bt=he.AbstractRecoilValue,St=he.RecoilState,wt=he.RecoilValueReadOnly,kt=he.isRecoilValue;function At(e,t,n){if("set"===n.type){var r,o=n.recoilValue,a=function(e,t,n,r){var o=n.key;if("function"==typeof r){var a=yt(e,t,o);if("loading"===a.state)throw new _t(o);if("hasError"===a.state)throw a.contents;return r(a.contents)}return r}(e,t,o,n.valueOrUpdater),u=b(pt(e,t,o.key,a).entries());try{for(u.s();!(r=u.n()).done;){var l=i(r.value,2);Tt(t,l[0],l[1])}}catch(e){u.e(e)}finally{u.f()}}else if("setLoadable"===n.type)Tt(t,n.recoilValue.key,n.loadable);else if("markModified"===n.type){var c=n.recoilValue.key;t.dirtyAtoms.add(c)}else if("setUnvalidated"===n.type){var s,f=n.recoilValue.key,d=n.unvalidatedValue,v=mt(f);null==v||null===(s=v.invalidate)||void 0===s||s.call(v,t),t.atomValues.delete(f),t.nonvalidatedAtoms.set(f,d),t.dirtyAtoms.add(f)}else ae("Unknown action ".concat(n.type))}function Tt(e,t,n){"hasValue"===n.state&&n.contents instanceof gt?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Rt(e,t){e.replaceState((function(n){var r,o=Vt(n),a=b(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;At(e,o,i)}}catch(e){a.e(e)}finally{a.f()}return Lt(e,o),o}))}function Et(e,t){if(Nt.length){var n=Nt[Nt.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Rt(e,[t])}var Nt=[];function Vt(e){return k(k({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function Lt(e,t){var n,r=b(ht(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var o,a,i=n.value;null===(o=mt(i))||void 0===o||null===(a=o.invalidate)||void 0===a||a.call(o,t)}}catch(e){r.e(e)}finally{r.f()}}function Mt(e,t,n){Et(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var Ct=0,Bt={RecoilValueReadOnly:wt,AbstractRecoilValue:bt,RecoilState:St,getRecoilValueAsLoadable:function(e,t){var n,r,o=t.key,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,i=e.getState();a.version!==i.currentTree.version&&a.version!==(null===(n=i.nextTree)||void 0===n?void 0:n.version)&&a.version!==(null===(r=i.previousTree)||void 0===r?void 0:r.version)&&ae("Tried to read from a discarded tree");var u=yt(e,a,o);return"loading"===u.state&&u.contents.catch((function(){})),u},setRecoilValue:Mt,setRecoilValueLoadable:function(e,t,n){if(n instanceof gt)return Mt(e,t,n);Et(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Et(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Et(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=Ct++,i=e.getState();if(i.nodeToComponentSubscriptions.has(r)||i.nodeToComponentSubscriptions.set(r,new Map),R(i.nodeToComponentSubscriptions.get(r)).set(a,[null!=o?o:"<not captured>",n]),ne("recoil_early_rendering_2021")){var u=e.getState().nextTree;u&&u.dirtyAtoms.has(r)&&n(u)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(a)?(n.delete(a),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):ae("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:kt,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof gt?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return Nt.push(e),function(){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=i(t.value,2);Rt(r[0],r[1])}}catch(e){n.e(e)}finally{n.f()}Nt.pop()!==e&&ae("Incorrect order of batch popping")}},writeLoadableToTreeState:Tt,invalidateDownstreams:Lt,copyTreeState:Vt,invalidateDownstreams_FOR_TESTING:Lt},Ut=function(e,t,n){for(var r=e.entries(),o=r.next();!o.done;){var a=o.value;if(t.call(n,a[1],a[0],e))return!0;o=r.next()}return!1},xt=ct,Dt=ke.deleteNodeConfigIfPossible,Ot=ke.getNode,It=$e,Pt=new Set;function Ft(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)ae("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var o,a=new Set,i=b(t);try{for(i.s();!(o=i.n()).done;){var u=o.value;if(u instanceof It){var l,c=b(jt(n,u));try{for(c.s();!(l=c.n()).done;){var s=l.value;a.add(s)}}catch(e){c.e(e)}finally{c.f()}}else a.add(u)}}catch(e){i.e(e)}finally{i.f()}var f,d=function(e,t){var n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),a=new Set,i=new Set;return u(t),a;function u(t){var l,c=new Set,s=function(e,t,n,r,o){for(var a=e.getGraph(t.version),i=[],u=new Set;n.size>0;)l(R(n.values().next().value));return i;function l(e){if(r.has(e)||o.has(e))n.delete(e);else if(!u.has(e)){var t=a.nodeToNodeSubscriptions.get(e);if(t){var c,s=b(t);try{for(s.s();!(c=s.n()).done;)l(c.value)}catch(e){s.e(e)}finally{s.f()}}u.add(e),n.delete(e),i.push(e)}}}(e,r,t,a,i),f=b(s);try{for(f.s();!(l=f.n()).done;){var d,v=l.value;if("recoilRoot"!==Ot(v).retainedBy)if((null!==(d=n.retention.referenceCounts.get(v))&&void 0!==d?d:0)>0)i.add(v);else if(qt(v).some((function(e){return n.retention.referenceCounts.get(e)})))i.add(v);else{var h=o.nodeToNodeSubscriptions.get(v);h&&Ut(h,(function(e){return i.has(e)}))?i.add(v):(a.add(v),c.add(v))}else i.add(v)}}catch(e){f.e(e)}finally{f.f()}var y,p=new Set,m=b(c);try{for(m.s();!(y=m.n()).done;){var g,_=y.value,S=b(null!==(w=o.nodeDeps.get(_))&&void 0!==w?w:Pt);try{for(S.s();!(g=S.n()).done;){var w,k=g.value;a.has(k)||p.add(k)}}catch(e){S.e(e)}finally{S.f()}}}catch(e){m.e(e)}finally{m.f()}p.size&&u(p)}}(e,a),v=b(d);try{for(v.s();!(f=v.n()).done;)zt(e,r,f.value)}catch(e){v.e(e)}finally{v.f()}}}function zt(e,t,n){if(ne("recoil_memory_managament_2020")){xt(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var o,a=b(qt(n));try{for(a.s();!(o=a.n()).done;){var i,u=o.value;null===(i=r.retention.nodesRetainedByZone.get(u))||void 0===i||i.delete(n)}}catch(e){a.e(e)}finally{a.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var l=r.graphsByVersion.get(t.version);if(l){var c=l.nodeDeps.get(n);if(void 0!==c){l.nodeDeps.delete(n);var s,f=b(c);try{for(f.s();!(s=f.n()).done;){var d,v=s.value;null===(d=l.nodeToNodeSubscriptions.get(v))||void 0===d||d.delete(n)}}catch(e){f.e(e)}finally{f.f()}}l.nodeToNodeSubscriptions.delete(n)}Dt(n)}}function jt(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:Pt}function qt(e){var t=Ot(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof It?[t]:t}function Wt(e,t){ne("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):Ft(e,new Set([t]))}(e,t))}var Kt=12e4,Ht=function(e,t,n){var r;if(ne("recoil_memory_managament_2020")){var o=e.getState().retention.referenceCounts,a=(null!==(r=o.get(t))&&void 0!==r?r:0)+n;0===a?Wt(e,t):o.set(t,a)}},Gt=function(e){if(ne("recoil_memory_managament_2020")){var t=e.getState();Ft(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},$t=function(e){return void 0===e?"recoilRoot":e};function Zt(e){var t,n,r,o,a,i;return l.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=b(e),u.prev=1,t.s();case 3:if((n=t.n()).done){u.next=24;break}r=n.value,o=b(r),u.prev=6,o.s();case 8:if((a=o.n()).done){u.next=14;break}return i=a.value,u.next=12,i;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),o.e(u.t0);case 19:return u.prev=19,o.f(),u.finish(19);case 22:u.next=3;break;case 24:u.next=29;break;case 26:u.prev=26,u.t1=u.catch(1),t.e(u.t1);case 29:return u.prev=29,t.f(),u.finish(29);case 32:case"end":return u.stop()}}),S,null,[[1,26,29,32],[6,16,19,22]])}var Jt=Zt,Xt={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},Yt=d.unstable_batchedUpdates,Qt=Bt.batchStart,en=Yt,tn=function(e){en((function(){var t=function(){};try{t=Qt(),e()}finally{t()}}))},nn=Xt.isSSR,rn=tn,on=vt,an=ft,un=Ue,ln=ke.DEFAULT_VALUE,cn=ke.recoilValues,sn=ke.recoilValuesForKeys,fn=Bt.AbstractRecoilValue,dn=Bt.getRecoilValueAsLoadable,vn=Bt.setRecoilValue,hn=Bt.setUnvalidatedRecoilValue,yn=Ht,pn=je,mn=ze,gn=function(){function e(t){var n=this;h(this,e),E(this,"_store",void 0),E(this,"_refCount",0),E(this,"getLoadable",(function(e){return n.checkRefCount_INTERNAL(),dn(n._store,e)})),E(this,"getPromise",(function(e){return n.checkRefCount_INTERNAL(),n.getLoadable(e).toPromise()})),E(this,"getNodes_UNSTABLE",(function(e){if(n.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];var t=n._store.getState().currentTree;return sn(t.dirtyAtoms)}var r=n._store.getState().knownAtoms,o=n._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?cn.values():!0===e.isInitialized?sn(Jt([n._store.getState().knownAtoms,n._store.getState().knownSelectors])):He(cn.values(),(function(e){var t=e.key;return!r.has(t)&&!o.has(t)}))})),E(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return n.checkRefCount_INTERNAL(),an(n._store,n._store.getState().currentTree,t)})),E(this,"map",(function(e){n.checkRefCount_INTERNAL();var t=new Sn(n,rn);return e(t),bn(t.getStore_INTERNAL())})),E(this,"asyncMap",function(){var e=a(l.mark((function e(t){var r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.checkRefCount_INTERNAL(),r=new Sn(n,rn),e.next=4,t(r);case 4:return e.abrupt("return",bn(r.getStore_INTERNAL()));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return R(n.get(e));var r=un();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw w("Cannot subscribe to Snapshots")}};var r,o=b(this._store.getState().nodeCleanupFunctions.keys());try{for(o.s();!(r=o.n()).done;){var i=r.value;on(this._store,t.currentTree,i,"get"),yn(this._store,i,1)}}catch(e){o.e(e)}finally{o.f()}this.retain(),this.autorelease_INTERNAL()}return y(e,[{key:"retain",value:function(){var e=this;if(!ne("recoil_memory_managament_2020"))return function(){};this._refCount++;var t=!1;return function(){t||(t=!0,e.release_INTERNAL())}}},{key:"autorelease_INTERNAL",value:function(){var e=this;ne("recoil_memory_managament_2020")&&(nn||window.setTimeout((function(){return e.release_INTERNAL()}),0))}},{key:"release_INTERNAL",value:function(){ne("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}},{key:"checkRefCount_INTERNAL",value:function(){ne("recoil_memory_managament_2020")&&this._refCount<=0&&ae("\nRecoil Snapshots only last for the duration of the callback they are provided to. To keep a Snapshot longer, do this:\n\n  const release = snapshot.retain();\n  try {\n    await useTheSnapshotAsynchronously(snapshot);\n  } finally {\n    release();\n  }\n\nThis is currently a DEV-only warning but will become a thrown exception in the next release of Recoil.\n")}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}},{key:"getID_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}]),e}();function _n(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),o=n?pn():t.version;return{currentTree:n?{version:o,stateID:o,transactionMetadata:k({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(o,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",n=e.getState(),r="current"===t?n.currentTree:R(n.previousTree);return new gn(_n(e,r))}var Sn=function(e){f(n,e);var t=A(n);function n(e,r){var o;return h(this,n),o=t.call(this,_n(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),E(s(o),"_batch",void 0),E(s(o),"set",(function(e,t){o.checkRefCount_INTERNAL();var n=o.getStore_INTERNAL();o._batch((function(){yn(n,e.key,1),vn(o.getStore_INTERNAL(),e,t)}))})),E(s(o),"reset",(function(e){o.checkRefCount_INTERNAL();var t=o.getStore_INTERNAL();o._batch((function(){yn(t,e.key,1),vn(o.getStore_INTERNAL(),e,ln)}))})),E(s(o),"setUnvalidatedAtomValues_DEPRECATED",(function(e){o.checkRefCount_INTERNAL();var t=o.getStore_INTERNAL();rn((function(){var n,r=b(e.entries());try{for(r.s();!(n=r.n()).done;){var o=i(n.value,2),a=o[0],u=o[1];yn(t,a,1),hn(t,new fn(a),u)}}catch(e){r.e(e)}finally{r.f()}}))})),o._batch=r,o}return n}(gn),wn={Snapshot:gn,MutableSnapshot:Sn,freshSnapshot:function(e){var t=new gn(mn());return null!=e?t.map(e):t},cloneSnapshot:bn},kn=wn.Snapshot,An=wn.MutableSnapshot,Tn=wn.freshSnapshot,Rn=wn.cloneSnapshot,En=Object.freeze({__proto__:null,Snapshot:kn,MutableSnapshot:An,freshSnapshot:Tn,cloneSnapshot:Rn}),Nn=je,Vn=ze,Ln=ct,Mn=dt,Cn=lt,Bn=st,Un=Ue,xn=Be,Dn=Bt.applyAtomValueWrites,On=Gt,In=En.freshSnapshot,Pn=t,Fn=Pn.useCallback,zn=Pn.useContext,jn=Pn.useEffect,qn=Pn.useMemo,Wn=Pn.useRef,Kn=Pn.useState;function Hn(){throw w("This component must be used inside a <RecoilRoot> component.")}var Gn=Object.freeze({getState:Hn,replaceState:Hn,getGraph:Hn,subscribeToTransactions:Hn,addTransactionMetadata:Hn}),$n=!1;function Zn(e){if($n)throw w("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){ne("recoil_memory_managament_2020")&&ne("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&On(e);var n=t.currentTree.version,r=Nn();t.nextTree=k(k({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,xn(R(t.graphsByVersion.get(n))))}}var Jn=t.createContext({current:Gn}),Xn=function(){return zn(Jn)},Yn=t.createContext(null);function Qn(e,t,n){var r,o=b(Mn(e,n,n.dirtyAtoms));try{for(o.s();!(r=o.n()).done;){var a=r.value,u=t.nodeToComponentSubscriptions.get(a);if(u){var l,c=b(u);try{for(c.s();!(l=c.n()).done;){var s=i(l.value,2),f=(s[0],i(s[1],2));f[0],(0,f[1])(n)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){o.e(e)}finally{o.f()}}function er(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var o,a=b(t.nodeTransactionSubscriptions);try{for(a.s();!(o=a.n()).done;){var u=i(o.value,2),l=u[0],c=u[1];if(r.has(l)){var s,f=b(c);try{for(f.s();!(s=f.n()).done;){var d=i(s.value,2);d[0],(0,d[1])(e)}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){a.e(e)}finally{a.f()}var v,h=b(t.transactionSubscriptions);try{for(h.s();!(v=h.n()).done;){var y=i(v.value,2);y[0],(0,y[1])(e)}}catch(e){h.e(e)}finally{h.f()}ne("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(Qn(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function tr(e){var t=e.setNotifyBatcherOfChange,n=Xn(),r=Kn([]),o=i(r,2),a=(o[0],o[1]);return t((function(){return a({})})),jn((function(){Ae.enqueueExecution("Batcher",(function(){!function(e){var t=e.current.getState();t.commitDepth++;try{var n=t.nextTree;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,er(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):ae("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,ne("recoil_memory_managament_2020")&&On(e.current)}finally{t.commitDepth--}}(n)}))})),jn((function(){return function(){t((function(){}))}}),[t]),null}"undefined"==typeof window||window.$recoilDebugStates||(window.$recoilDebugStates=[]);var nr=0;function rr(e){var n,r,o=e.initializeState_DEPRECATED,a=e.initializeState,i=e.store_INTERNAL,u=e.children,l=Wn(null),c=Fn((function(e){l.current=e}),[l]),s=null!==(n=t.createMutableSource)&&void 0!==n?n:t.unstable_createMutableSource,f=null!=i?i:{getState:function(){return r.current},replaceState:function(e){var t=d.current.getState();Zn(d.current);var n,r=R(t.nextTree);try{$n=!0,n=e(r)}finally{$n=!1}n!==r&&("undefined"!=typeof window&&window.$recoilDebugStates.push(n),t.nextTree=n,ne("recoil_early_rendering_2021")&&Qn(f,t,n),R(l.current)())},getGraph:function(e){var t=r.current.graphsByVersion;if(t.has(e))return R(t.get(e));var n=Un();return t.set(e,n),n},subscribeToTransactions:function(e,t){if(null==t){var n=d.current.getState().transactionSubscriptions,r=nr++;return n.set(r,e),{release:function(){n.delete(r)}}}var o=d.current.getState().nodeTransactionSubscriptions;o.has(t)||o.set(t,new Map);var a=nr++;return R(o.get(t)).set(a,e),{release:function(){var e=o.get(t);e&&(e.delete(a),0===e.size&&o.delete(t))}}},addTransactionMetadata:function(e){Zn(d.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];R(d.current.getState().nextTree).transactionMetadata[r]=e[r]}}},d=Wn(f);r=Wn(null!=o?function(e,t){var n=Vn();return t({set:function(t,r){var o,a=n.currentTree,i=Cn(e,a,t.key,r),u=new Set(i.keys()),l=a.nonvalidatedAtoms.clone(),c=b(u);try{for(c.s();!(o=c.n()).done;){var s=o.value;l.delete(s)}}catch(e){c.e(e)}finally{c.f()}n.currentTree=k(k({},a),{},{dirtyAtoms:qe(a.dirtyAtoms,u),atomValues:Dn(a.atomValues,i),nonvalidatedAtoms:l})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=Bn(n.currentTree,t,e)}))}}),n}(f,o):null!=a?function(e){return In().map(e).getStore_INTERNAL().getState()}(a):Vn());var v=qn((function(){return s?s(r,(function(){return r.current.currentTree.version})):null}),[s,r]);return jn((function(){return function(){var e,t=b(d.current.getState().knownAtoms);try{for(t.s();!(e=t.n()).done;){var n=e.value;Ln(d.current,n)}}catch(e){t.e(e)}finally{t.f()}}}),[]),t.createElement(Jn.Provider,{value:d},t.createElement(Yn.Provider,{value:v},t.createElement(tr,{setNotifyBatcherOfChange:c}),u))}var or=Xn,ar=function(){var e=zn(Yn);return null==e&&J("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},ir=function(e){var n=e.override,r=o(e,m),a=Xn();return!1===n&&a.current!==Gn?e.children:t.createElement(rr,r)},ur="<unknown>",lr=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,cr=/\((\S*)(?::(\d+))(?::(\d+))\)/,sr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,dr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vr=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,hr=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,yr=function(e){return e.split("\n").reduce((function(e,t){var n=function(e){var t=lr.exec(e);if(!t)return null;var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),o=cr.exec(t[2]);return r&&null!=o&&(t[2]=o[1],t[3]=o[2],t[4]=o[3]),{file:n?null:t[2],methodName:t[1]||ur,arguments:n?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}(t)||function(e){var t=sr.exec(e);return t?{file:t[2],methodName:t[1]||ur,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}(t)||function(e){var t=fr.exec(e);if(!t)return null;var n=t[3]&&t[3].indexOf(" > eval")>-1,r=dr.exec(t[3]);return n&&null!=r&&(t[3]=r[1],t[4]=r[2],t[5]=null),{file:t[3],methodName:t[1]||ur,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}(t)||function(e){var t=hr.exec(e);return t?{file:t[2],methodName:t[1]||ur,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}(t)||function(e){var t=vr.exec(e);return t?{file:t[3],methodName:t[1]||ur,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}(t);return n&&e.push(n),e}),[])},pr=t.useRef,mr=function(){var e=pr();if(ne("recoil_infer_component_names")){var t;if(void 0===e.current){var n,r=b(yr((new Error).stack));try{for(r.s();!(n=r.n()).done;){var o=n.value.methodName;if(!o.match(/\buse[^\b]+$/))return e.current=o}}catch(e){r.e(e)}finally{r.f()}e.current=null}return null!==(t=e.current)&&void 0!==t?t:"<unable to determine component name>"}return"<component name not available>"},gr=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},_r=t,br=_r.useEffect,Sr=_r.useRef,wr=function(e){var t=Sr();return br((function(){t.current=e})),t.current},kr=or,Ar=Kt,Tr=Ht,Rr=$e,Er=Xt.isSSR,Nr=t,Vr=Nr.useEffect,Lr=Nr.useRef,Mr=function(e){if(ne("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof Rr?e:e.key})),n=kr();Vr((function(){if(ne("recoil_memory_managament_2020")){var e=n.current;if(o.current&&!Er)window.clearTimeout(o.current),o.current=null;else{var r,a=b(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;Tr(e,i,1)}}catch(e){a.e(e)}finally{a.f()}}return function(){var n,r=b(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;Tr(e,o,-1)}}catch(e){r.e(e)}finally{r.f()}}}}),[n].concat(r(t)));var o=Lr(),a=wr(t);if(!(Er||void 0!==a&&gr(a,t))){var i,u=n.current,l=b(t);try{for(l.s();!(i=l.n()).done;){var c=i.value;Tr(u,c,1)}}catch(e){l.e(e)}finally{l.f()}if(a){var s,f=b(a);try{for(f.s();!(s=f.n()).done;){var d=s.value;Tr(u,d,-1)}}catch(e){f.e(e)}finally{f.f()}}o.current&&window.clearTimeout(o.current),o.current=window.setTimeout((function(){o.current=null;var e,n=b(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;Tr(u,r,-1)}}catch(e){n.e(e)}finally{n.f()}}),Ar)}}(e)},Cr=tn,Br=ke.DEFAULT_VALUE,Ur=ar,xr=or,Dr=he.isRecoilValue,Or=Bt.AbstractRecoilValue,Ir=Bt.getRecoilValueAsLoadable,Pr=Bt.setRecoilValue,Fr=Bt.setUnvalidatedRecoilValue,zr=Bt.subscribeToRecoilValue,jr=Y.mutableSourceExists,qr=Y.useMutableSource,Wr=t,Kr=Wr.useCallback,Hr=Wr.useEffect,Gr=(Wr.useMemo,Wr.useRef),$r=Wr.useState;function Zr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:w('Invalid value of loadable atom "'.concat(t.key,'"'))}function Jr(e,t){if(!Dr(e))throw w("Invalid argument to ".concat(t,": expected an atom or selector but got ").concat(String(e)))}var Xr={current:0};function Yr(e){return ne("recoil_memory_managament_2020")&&Mr(e),jr()?function(e){Jr(e,"useRecoilValueLoadable");var t=xr(),n=Kr((function(){var n,r=t.current,o=r.getState(),a=ne("recoil_early_rendering_2021")&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree;return Ir(r,e,a)}),[t,e]),r=Kr((function(){return Xr.current++,n()}),[n]),o=mr(),a=Kr((function(r,a){var i=t.current;return zr(i,e,(function(){if(!ne("recoil_suppress_rerender_in_callback"))return a();var e=n();l.current.is(e)||a(),l.current=e}),o).release}),[t,e,o,n]),i=Ur(),u=qr(i,r,a),l=Gr(u);return Hr((function(){l.current=u})),u}(e):function(e){Jr(e,"useRecoilValueLoadable");var t=xr(),n=$r([]),r=i(n,2),o=(r[0],r[1]),a=mr();Hr((function(){var n=t.current,r=n.getState(),i=zr(n,e,(function(t){var r;if(!ne("recoil_suppress_rerender_in_callback"))return o([]);var a=Ir(n,e,n.getState().currentTree);(null===(r=l.current)||void 0===r?void 0:r.is(a))||o(a),l.current=a}),a);if(r.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((function(){l.current=null,o([])}));else{var u;if(!ne("recoil_suppress_rerender_in_callback"))return o([]);var c=Ir(n,e,n.getState().currentTree);(null===(u=l.current)||void 0===u?void 0:u.is(c))||o(c),l.current=c}return i.release}),[a,e,t]);var u=Ir(t.current,e),l=Gr(u);return Hr((function(){l.current=u})),u}(e)}function Qr(e){Jr(e,"useRecoilValue");var t=xr();return Zr(Yr(e),e,t)}function eo(e){Jr(e,"useSetRecoilState");var t=xr();return Kr((function(n){Pr(t.current,e,n)}),[t,e])}var to=function(e){return Jr(e,"useRecoilState"),[Qr(e),eo(e)]},no=function(e){return Jr(e,"useRecoilStateLoadable"),[Yr(e),eo(e)]},ro=Qr,oo=Yr,ao=function(e){Jr(e,"useResetRecoilState");var t=xr();return Kr((function(){Pr(t.current,e,Br)}),[t,e])},io=eo,uo=function(){var e=xr();return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Cr((function(){e.current.addTransactionMetadata(n),t.forEach((function(t,n){return Fr(e.current,new Or(n),t)}))}))}},lo=function(e,t){var n,r=new Map,o=b(e);try{for(o.s();!(n=o.n()).done;){var a=i(n.value,2),u=a[0],l=a[1];t(l,u)&&r.set(u,l)}}catch(e){o.e(e)}finally{o.f()}return r},co=function(e,t){var n,r=new Set,o=b(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;t(a)&&r.add(a)}}catch(e){o.e(e)}finally{o.f()}return r},so=function(){for(var e=new Map,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)for(var a=n[o].keys(),i=void 0;!(i=a.next()).done;)e.set(i.value,n[o].get(i.value));return e},fo=tn,vo=ke.DEFAULT_VALUE,ho=ke.getNode,yo=ke.nodes,po=or,mo=Bt.AbstractRecoilValue,go=Bt.setRecoilValueLoadable,_o=Kt,bo=(En.Snapshot,En.cloneSnapshot),So=Xt.isSSR,wo=t,ko=wo.useCallback,Ao=wo.useEffect,To=wo.useRef,Ro=wo.useState;function Eo(e){var t=po();Ao((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function No(e){var t=e.atomValues.toMap(),n=Me(lo(t,(function(e,t){var n=ho(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(function(e){return e.contents}));return so(e.nonvalidatedAtoms.toMap(),n)}var Vo=function(){var e=po(),t=Ro((function(){return bo(e.current)})),n=i(t,2),r=n[0],o=n[1],a=wr(r),u=To();return Ao((function(){return u.current&&!So&&window.clearTimeout(u.current),r.retain()}),[r]),Eo(ko((function(e){return o(bo(e))}),[])),a===r||So||(u.current&&(null==a||a.release_INTERNAL(),window.clearTimeout(u.current)),r.retain(),u.current=window.setTimeout((function(){r.release_INTERNAL(),u.current=null}),_o)),r},Lo=function(){var e=po();return ko((function(t){var n,r=e.current.getState(),o=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;fo((function(){for(var n=new Set,r=0,i=[o.atomValues.keys(),a.atomValues.keys()];r<i.length;r++){var u,l=b(i[r]);try{for(l.s();!(u=l.n()).done;){var c,s,f=u.value;(null===(c=o.atomValues.get(f))||void 0===c?void 0:c.contents)!==(null===(s=a.atomValues.get(f))||void 0===s?void 0:s.contents)&&ho(f).shouldRestoreFromSnapshots&&n.add(f)}}catch(e){l.e(e)}finally{l.f()}}n.forEach((function(t){go(e.current,new mo(t),a.atomValues.has(t)?R(a.atomValues.get(t)):vo)})),e.current.replaceState((function(e){return k(k({},e),{},{stateID:t.getID_INTERNAL()})}))}))}),[e])},Mo=function(e){Eo(ko((function(t){var n=bo(t,"current"),r=bo(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},Co=function(e){Eo(ko((function(t){var n=t.getState().previousTree,r=t.getState().currentTree;n||(ae("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);var o=No(r),a=No(n),i=Me(yo,(function(e){var t,n,r,o;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(o=e.persistence_UNSTABLE)||void 0===o?void 0:o.backButton)&&void 0!==r&&r}}})),u=co(r.dirtyAtoms,(function(e){return o.has(e)||a.has(e)}));e({atomValues:o,previousAtomValues:a,atomInfo:i,modifiedAtoms:u,transactionMetadata:k({},r.transactionMetadata)})}),[e]))},Bo=ft,Uo=or,xo=function(){var e=Uo();return function(t){var n=t.key;return Bo(e.current,e.current.getState().currentTree,n)}},Do=ir,Oo=or,Io=t.useMemo,Po=function(){var e=Oo().current;return Io((function(){return function(n){var r=n.children;return t.createElement(Do,{store_INTERNAL:e},r)}}),[e])},Fo=G.loadableWithValue,zo=ke.DEFAULT_VALUE,jo=ke.getNode,qo=Bt.copyTreeState,Wo=Bt.getRecoilValueAsLoadable,Ko=Bt.invalidateDownstreams,Ho=Bt.writeLoadableToTreeState;function Go(e){return"atom"===jo(e.key).nodeType}var $o=function(){function e(t,n){var r=this;h(this,e),E(this,"_store",void 0),E(this,"_treeState",void 0),E(this,"_changes",void 0),E(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!Go(e))throw w("Reading selectors within atomicUpdate is not supported");var t=Wo(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:w("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),E(this,"set",(function(e,t){if(!Go(e))throw w("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else r._changes.set(e.key,t)})),E(this,"reset",(function(e){r.set(e,zo)})),this._store=t,this._treeState=n,this._changes=new Map}return y(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=qo(this._treeState),n=b(this._changes);try{for(n.s();!(e=n.n()).done;){var r=i(e.value,2),o=r[0],a=r[1];Ho(t,o,Fo(a))}}catch(e){n.e(e)}finally{n.f()}return Ko(this._store,t),t}}]),e}(),Zo=function(e){return function(t){e.replaceState((function(n){var r=new $o(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Jo=Object.freeze({__proto__:null,atomicUpdater:Zo}),Xo=function(e,t){if(!e)throw new Error(t)},Yo=Jo.atomicUpdater,Qo=tn,ea=ke.DEFAULT_VALUE,ta=or,na=Bt.setRecoilValue,ra=(En.Snapshot,En.cloneSnapshot),oa=Lo,aa=t.useCallback,ia=function e(){h(this,e)},ua=new ia,la=function(e,t){var n=ta(),o=oa();return aa((function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];function i(e,t){na(n.current,e,t)}function u(e){na(n.current,e,ea)}var l=ra(n.current),c=Yo(n.current),s=ua;return Qo((function(){var t="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw w(t);var n=e({set:i,reset:u,snapshot:l,gotoSnapshot:o,transact_UNSTABLE:c});if("function"!=typeof n)throw w(t);s=n.apply(void 0,r)})),s instanceof ia&&Xo(!1,"batchUpdates should return immediately"),s}),null!=t?[].concat(r(t),[n]):void 0)},ca=ke.getNode,sa=or,fa=t.useCallback,da=function(e){var t=sa();return fa((function(){var n,r=t.current,o=r.getState().currentTree,a=ca(e.key);null===(n=a.clearCache)||void 0===n||n.call(a,r,o)}),[e,t])},va=Jo.atomicUpdater,ha=or,ya=t.useMemo,pa=function(e,t){var n=ha();return ya((function(){return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=va(n.current);a((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(r(t),[n]):void 0)},ma=function(e){var t,n;if("undefined"==typeof window)return!1;var r=null!==(n=(null!=e?null!==(t=e.ownerDocument)&&void 0!==t?t:e:document).defaultView)&&void 0!==n?n:window;return!(null==e||!("function"==typeof r.Node?e instanceof r.Node:"object"===p(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))},ga=Xt.isReactNative,_a=Xt.isSSR,ba=function e(t){if("object"===p(t)&&!function(e){if(null===e||"object"!==p(e))return!0;switch(p(e.$$typeof)){case"symbol":case"number":return!0}return null!=e["@@__IMMUTABLE_ITERABLE__@@"]||null!=e["@@__IMMUTABLE_KEYED__@@"]||null!=e["@@__IMMUTABLE_INDEXED__@@"]||null!=e["@@__IMMUTABLE_ORDERED__@@"]||null!=e["@@__IMMUTABLE_RECORD__@@"]||!!ma(e)||!!T(e)||e instanceof Error||!!ArrayBuffer.isView(e)||!_a&&!ga&&(e===window||e instanceof Window)}(t)){for(var n in Object.freeze(t),t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];"object"!==p(r)||null==r||Object.isFrozen(r)||e(r)}Object.seal(t)}};function Sa(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(p(e)){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw w("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==p(e))return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(T(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return Sa(e,t,n.toString())})),"]");if("function"==typeof e.toJSON)return Sa(e.toJSON(n),t,n);if(e instanceof Map){var o,a={},u=b(e);try{for(u.s();!(o=u.n()).done;){var l=i(o.value,2),c=l[0],s=l[1];a["string"==typeof c?c:Sa(c,t)]=s}}catch(e){u.e(e)}finally{u.f()}return Sa(a,t,n)}return e instanceof Set?Sa(Array.from(e).sort((function(e,n){return Sa(e,t).localeCompare(Sa(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?Sa(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(Sa(n,t),":").concat(Sa(e[n],t,n))})).join(","),"}")}var wa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};if("undefined"!=typeof window){var n=window.performance?window.performance.now():0,r=Sa(e,t),o=window.performance?window.performance.now():0;return o-n>15&&(console.groupCollapsed("Recoil: Spent ".concat(o-n,"ms computing a cache key")),console.warn(e,r),console.groupEnd()),r}return Sa(e,t)},ka=function(){function e(t){var n,r,o;h(this,e),E(this,"_numLeafs",void 0),E(this,"_root",void 0),E(this,"_onHit",void 0),E(this,"_onSet",void 0),E(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(n=null==t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null==t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(o=null==t?void 0:t.mapNodeValue)&&void 0!==o?o:function(e){return e}}return y(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){var n=this;return Aa(this.root(),(function(t){return n._mapNodeValue(e(t))}),{onNodeVisit:function(e){null==t||t.onNodeVisit(e),"leaf"===e.type&&n._onHit(e)}})}},{key:"set",value:function(e,t,n){var r,o=this,a=null;!function u(){a=Ta(o.root(),e.map((function(e){var t=i(e,2),n=t[0],r=t[1];return[n,o._mapNodeValue(r)]})),null,t,null,{onNodeVisit:function(e){null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}},(function(){o.clear(),u()}))}(),this.root()||(this._root=a),this._numLeafs++,this._onSet(R(r))}},{key:"delete",value:function(e){if(!this.root())return!1;var t=R(this.root());return!!Ra(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=Na(e),!0))}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}}]),e}(),Aa=function e(t,n,r){var o;if(null!=t){if(null==r||null===(o=r.onNodeVisit)||void 0===o||o.call(r,t),"leaf"===t.type)return t;var a=n(t.nodeKey);return e(t.branches.get(a),n,r)}},Ta=function e(t,r,o,a,u,l,c){var s,f;if(null==t)if(0===r.length)f={type:"leaf",value:a,parent:o,branchKey:u};else{var d=n(r),v=d[0],h=d.slice(1),y=i(v,2),p=y[0],m=y[1];(f={type:"branch",nodeKey:p,parent:o,branches:new Map,branchKey:u}).branches.set(m,e(null,h,f,a,m,l,c))}else if(f=t,r.length){var g=n(r),_=g[0],b=g.slice(1),S=i(_,2),w=S[0],k=S[1];if("branch"!==t.type||t.nodeKey!==w)return ae("Existing cache must have a branch midway through the route with matching node key. Resetting cache."),c(),f;t.branches.set(k,e(t.branches.get(k),b,t,a,k,l,c))}return null==l||null===(s=l.onNodeVisit)||void 0===s||s.call(l,f),f},Ra=function(e,t,n){return n?(n.branches.delete(t.branchKey),Ea(e,n,n.parent)):e===t},Ea=function e(t,n,r){return r?(0===n.branches.size&&r.branches.delete(n.branchKey),e(t,r,r.parent)):t===n},Na=function e(t){return"leaf"===t.type?1:Array.from(t.branches.values()).reduce((function(t,n){return t+e(n)}),0)},Va=ka,La=Object.freeze({__proto__:null,TreeCache:Va}),Ma=function(){function e(t){var n;h(this,e),E(this,"_maxSize",void 0),E(this,"_size",void 0),E(this,"_head",void 0),E(this,"_tail",void 0),E(this,"_map",void 0),E(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return y(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),o={key:e,right:r,left:null,value:t};r?r.left=o:this._tail=o,this._map.set(n,o),this._head=o,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=R(this._map.get(t)),r=n.right,o=n.left;r&&(r.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=o),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),Ca=Object.freeze({__proto__:null,LRUCache:Ma}),Ba=Ca.LRUCache,Ua=La.TreeCache,xa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Ba({maxSize:e}),r=new Ua({mapNodeValue:t,onHit:function(e){n.set(e,!0)},onSet:function(t){var o=n.tail();n.set(t,!0),o&&r.size()>e&&r.delete(o.key)}});return r},Da=La.TreeCache,Oa={equality:"reference",eviction:"keep-all",maxSize:1/0};function Ia(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return wa(e)}}throw w("Unrecognized equality policy ".concat(e))}function Pa(e,t,n){switch(e){case"keep-all":return new Da({mapNodeValue:n});case"lru":return xa(R(t),n);case"most-recent":return xa(1,n)}throw w("Unrecognized eviction policy ".concat(e))}var Fa,za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=e.equality,n=void 0===t?Oa.equality:t,r=e.eviction,o=void 0===r?Oa.eviction:r,a=e.maxSize,i=void 0===a?Oa.maxSize:a,u=Ia(n),l=Pa(o,i,u);return l},ja=function(e){return function(){return null}},qa=G.loadableWithError,Wa=G.loadableWithPromise,Ka=G.loadableWithValue,Ha=it,Ga=ut,$a=lt,Za=xe,Ja=ke.DEFAULT_VALUE,Xa=ke.RecoilValueNotReady,Ya=ke.getConfigDeletionHandler,Qa=ke.getNode,ei=ke.registerNode,ti=he.isRecoilValue,ni=he.AbstractRecoilValue,ri=Bt.markRecoilValueModified,oi=Bt.setRecoilValueLoadable,ai=$t,ii=En.cloneSnapshot,ui=ja,li=function e(){h(this,e)},ci=new li,si=[],fi=new Map,di=(Fa=0,function(){return Fa++}),vi=function(e){var t=null,n=e.key,r=e.get,o=e.cachePolicy_UNSTABLE,a=null!=e.set?e.set:void 0;if("string"!=typeof n)throw w("A key option with a unique string value must be provided when creating a selector.");if("function"!=typeof r)throw w("Selectors must specify a get callback option to get the selector value.");var u=new Set,l=za(null!=o?o:{equality:"reference",eviction:"keep-all"}),c=ai(e.retainedBy_UNSTABLE),s=new Map,f=0;function d(){return!ne("recoil_memory_managament_2020")||f>0}function v(e){return s.has(e)||s.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),R(s.get(e))}function h(e){return f++,e.getState().knownSelectors.add(n),function(){f--,e.getState().knownSelectors.delete(n),s.delete(e)}}function y(){return void 0!==Ya(n)&&!d()}function p(e,t,n){if("loading"===t.state){var r=fi.get(n);null==r&&fi.set(n,r=new Set),r.add(e)}}function m(e,t,n){var r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return R(t.atomValues.get(n));var o=Ha(e,t,n);return"loading"!==o.state&&r&&t.atomValues.set(n,o),o}function g(e,t,n,r,o,a){return t.then((function(r){if(!d())throw B(e,o),ci;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,Ka(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var u=A(e,n);if(u&&"hasValue"===u.state)return M(u,e),u.contents;if(!U(e,o)){var l,c=V(n);if("loading"===(null==c||null===(l=c.latestLoadable)||void 0===l?void 0:l.state))return c.latestLoadable.contents}var s=k(e,n,o),f=i(s,2),v=f[0],h=f[1];if(U(e,o)&&C(h,e,o),"loading"!==v.state&&(D(n,E(h),v),S(e,n,new Set(h.keys()),o),_(e,v,o)),"hasError"===v.state)throw v.contents;return v.contents})).catch((function(t){if(t instanceof li)throw ae("Selector was released while it had dependencies"),ci;if(!d())throw B(e,o),ci;var a=qa(t);throw x(t),D(n,E(r),qa(t)),S(e,n,new Set(r.keys()),o),_(e,a,o),t}))}function _(e,t,r){U(e,r)&&(M(t,e),function(e,t){var r=fi.get(t);if(void 0!==r){var o,a=b(r);try{for(a.s();!(o=a.n()).done;){var i=o.value;oi(i,new ni(n),e)}}catch(e){a.e(e)}finally{a.f()}fi.delete(t)}}(t,r))}function S(e,t,r,o){var a,i,u,l,c,s,f;(U(e,o)||t.version===(null===(a=e.getState())||void 0===a||null===(i=a.currentTree)||void 0===i?void 0:i.version)||t.version===(null===(u=e.getState())||void 0===u||null===(l=u.nextTree)||void 0===l?void 0:l.version))&&Za(new Map([[n,r]]),e,null!==(c=null===(s=e.getState())||void 0===s||null===(f=s.nextTree)||void 0===f?void 0:f.version)&&void 0!==c?c:e.getState().currentTree.version)}function k(e,t,o){var a,i,u=ui(n),l=!1,c={loadingDepKey:null,loadingDepPromise:null},s=new Map,f=new Set;function v(n){var r=n.key;!function(e,t,n,r,o){n.add(r),S(e,t,n,o)}(e,t,f,r,o);var a=m(e,t,r);switch(s.set(r,a),a.state){case"hasValue":return a.contents;case"hasError":throw a.contents;case"loading":throw c.loadingDepKey=r,c.loadingDepPromise=a.contents,a.contents}throw w("Invalid Loadable state")}S(e,t,f,o);var h=!1;try{a=r({get:v,getCallback:function(t){return function(){if(!h)throw w("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");var n=ii(e),r=t({snapshot:n});if("function"!=typeof r)throw w("getCallback() expects a function that returns a function.");return r.apply(void 0,arguments)}}}),a=ti(a)?v(a):a,h=!0,T(a)?a=function(e,t,n,r,o,a){return t.then((function(t){if(!d())throw B(e,o),ci;var a=Ka(t);return x(t),D(n,E(r),a),S(e,n,new Set(r.keys()),o),_(e,a,o),t})).catch((function(t){if(!d())throw B(e,o),ci;if(U(e,o)&&C(r,e,o),T(t))return g(e,t,n,r,o,a);var i=qa(t);throw x(t),D(n,E(r),i),S(e,n,new Set(r.keys()),o),_(e,i,o),t}))}(e,a,t,s,o,c).finally(u):u()}catch(n){T(a=n)?a=g(e,a,t,s,o,c).finally(u):(l=!0,u())}return"loading"!==(i=l?qa(a):T(a)?Wa(a):Ka(a)).state&&x(i.contents),[i,s]}function A(e,t){var r,o=new Set,a=v(e);try{r=l.get((function(n){return"string"!=typeof n&&Xo(!1,"Cache nodeKey is type string"),m(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&"string"==typeof e.nodeKey&&(o.add(e.nodeKey),u.add(e.nodeKey))}})}catch(e){throw w('Problem with cache lookup for selector "'.concat(n,'": ').concat(e.message))}return r&&S(e,t,o,a.latestExecutionId),r}function E(e){return Array.from(e.entries()).map((function(e){var t=i(e,2);return[t[0],t[1].contents]}))}function N(e,t){var n=di(),r=k(e,t,n),o=i(r,2),a=o[0],u=o[1];return M(a,e,u,n,t),function(e,t,n){"loading"!==n.state&&D(e,t,n)}(t,E(u),a),p(e,a,n),a}function V(e){var t,n=null!==(t=Array.from(s.entries()).find((function(t){var n=i(t,2),r=n[0],o=n[1];return null!=o.latestLoadable&&null!=o.latestExecutionId&&!function(e,t){var n,r,o=v(e),a=null!==(n=o.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,u=Array((null!==(r=L.get(t.version))&&void 0!==r?r:new Map).entries()),l=L.has(t.version)&&u.length===a.size&&u.every((function(e){var t=i(e,2),n=t[0],r=t[1];return a.get(n)===r}));return null!=a&&t.version!==o.stateVersion&&!l&&(L.set(t.version,new Map(a)),Array.from(a).some((function(n){var r=i(n,2),o=r[0],a=r[1];return m(e,t,o).contents!==a.contents})))}(r,e)})))&&void 0!==t?t:[];return i(n,2)[1]}var L=new Map;function M(e,t,n,r,o){var a=v(t);"loading"===e.state?(a.depValuesDiscoveredSoFarDuringAsyncWork=n,a.latestExecutionId=r,a.latestLoadable=e,a.stateVersion=null==o?void 0:o.version):(a.depValuesDiscoveredSoFarDuringAsyncWork=null,a.latestExecutionId=null,a.latestLoadable=null,a.stateVersion=null)}function C(e,t,n){var r=v(t);U(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function B(e,t){U(e,t)&&s.delete(e)}function U(e,t){return t===v(e).latestExecutionId}function x(t){!1===Boolean(e.dangerouslyAllowMutability)&&ba(t)}function D(e,t,r){e.atomValues.set(n,r);try{l.set(t,r)}catch(e){throw w('Problem with setting cache for selector "'.concat(n,'": ').concat(e.message))}}function O(e,t){return l.get((function(n){"string"!=typeof n&&Xo(!1,"Cache nodeKey is type string");var r=Ga(e,t,n);return null==r?void 0:r.contents}))}function I(e,t){return function(e){if(si.includes(n)){var t="Recoil selector has circular dependencies: ".concat(si.slice(si.indexOf(n)).join(" → "));return qa(w(t))}si.push(n);try{return e()}finally{si.pop()}}((function(){return function(e,t){var n=A(e,t);if(null!=n)return M(n,e),n;var r=V(t);if(r){var o=r;return p(e,R(o.latestLoadable),R(o.latestExecutionId)),R(o.latestLoadable)}return N(e,t)}(e,t)}))}function P(e){e.atomValues.delete(n)}function F(e,n){null==t&&Xo(!1,"Recoil Value can never be null");var r,o=b(u);try{for(o.s();!(r=o.n()).done;){var a,i=r.value,c=Qa(i);null===(a=c.clearCache)||void 0===a||a.call(c,e,n)}}catch(e){o.e(e)}finally{o.f()}P(n),l.clear(),ri(e,t)}return t=ei(null!=a?{key:n,nodeType:"selector",peek:O,get:I,set:function(e,t,n){var r=!1,o=new Map;function i(n){var o=n.key;if(r)throw w("Recoil: Async selector sets are not currently supported.");var a=m(e,t,o);if("hasValue"===a.state)return a.contents;throw"loading"===a.state?new Xa(o):a.contents}function u(n,a){if(r)throw w("Recoil: Async selector sets are not currently supported.");var u="function"==typeof a?a(i(n)):a;$a(e,t,n.key,u).forEach((function(e,t){return o.set(t,e)}))}var l=a({set:u,get:i,reset:function(e){u(e,Ja)}},n);if(void 0!==l)throw T(l)?w("Recoil: Async selector sets are not currently supported."):w("Recoil: selector set should be a void function.");return r=!0,o},init:h,invalidate:P,clearCache:F,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c}:{key:n,nodeType:"selector",peek:O,get:I,init:h,invalidate:P,clearCache:F,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})},hi=G.loadableWithError,yi=G.loadableWithPromise,pi=G.loadableWithValue,mi=ft,gi=ke.DEFAULT_VALUE,_i=ke.DefaultValue,bi=ke.getConfigDeletionHandler,Si=ke.registerNode,wi=ke.setConfigDeletionHandler,ki=he.isRecoilValue,Ai=Bt.getRecoilValueAsLoadable,Ti=Bt.markRecoilValueModified,Ri=Bt.setRecoilValue,Ei=Bt.setRecoilValueLoadable,Ni=$t;function Vi(e){var t=e.key,n=e.persistence_UNSTABLE,o=Ni(e.retainedBy_UNSTABLE),a=0,i=T(e.default)?yi(e.default.then((function(e){return i=pi(e),e})).catch((function(e){throw i=hi(e),e}))):pi(e.default);c(e.default);var u=void 0,l=new Map;function c(t){return!0!==e.dangerouslyAllowMutability?T(t)?t.then((function(e){return ba(e),e})):(ba(t),t):t}var s=Si({key:t,nodeType:"atom",peek:function(e,n){var r,o;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:u)&&void 0!==r?r:i},get:function(e,r){if(r.atomValues.has(t))return R(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=u)return u;if(null==n)return J("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),i;var o=r.nonvalidatedAtoms.get(t),a=n.validator(o,gi),l=a instanceof _i?i:pi(a);return u=l}return i},set:function(e,n,r){if(n.atomValues.has(t)){var o=R(n.atomValues.get(t));if("hasValue"===o.state&&r===o.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof _i)return new Map;return c(r),u=void 0,(new Map).set(t,pi(r))},init:function(n,o,u){a++;var f=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===i.state){var d=function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||Ti(n,s)};i.contents.then(d).catch(d)}var v=gi,h=null;if(null!=e.effects_UNSTABLE&&!f){var y=!0;function p(e){if(y&&e.key===t&&!(v instanceof _i)){var r=v;return r instanceof _i?i:T(r)?yi(r.then((function(e){return e instanceof _i?i.toPromise():e}))):pi(r)}return Ai(n,e)}function m(e){return p(e).toPromise()}function g(e){var r,o=mi(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!y||e.key!==t||v instanceof _i?o:k(k({},o),{},{isSet:!0,loadable:p(e)})}var _,S=function(e){return function(t){if(y){var r=v instanceof _i||T(v)?"hasValue"===i.state?i.contents:gi:v;v="function"==typeof t?t(r):t,T(v)&&(v=v.then((function(t){return h={effect:e,value:t},t})))}else{if(T(t))throw w("Setting atoms to async values is not implemented.");"function"!=typeof t&&(h={effect:e,value:t}),Ri(n,s,"function"==typeof t?function(n){var r=t(n);return h={effect:e,value:r},r}:t)}}},A=function(e){return function(){return S(e)(gi)}},R=function(e){return function(r){n.subscribeToTransactions((function(n){var o,a=n.getState(),u=a.currentTree,l=a.previousTree;l||(ae("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),l=u);var c=null!==(o=u.atomValues.get(t))&&void 0!==o?o:i;if("hasValue"===c.state){var s,f,d,v,y=c.contents,p=null!==(s=l.atomValues.get(t))&&void 0!==s?s:i,m="hasValue"===p.state?p.contents:gi;(null===(f=h)||void 0===f?void 0:f.effect)!==e||(null===(d=h)||void 0===d?void 0:d.value)!==y?r(y,m,!u.atomValues.has(t)):(null===(v=h)||void 0===v?void 0:v.effect)===e&&(h=null)}}),t)}},E=b(null!==(N=e.effects_UNSTABLE)&&void 0!==N?N:[]);try{for(E.s();!(_=E.n()).done;){var N,V,L=_.value,M=L({node:s,trigger:u,setSelf:S(L),resetSelf:A(L),onSet:R(L),getPromise:m,getLoadable:p,getInfo_UNSTABLE:g});null!=M&&l.set(n,[].concat(r(null!==(V=l.get(n))&&void 0!==V?V:[]),[M]))}}catch(e){E.e(e)}finally{E.f()}y=!1}if(!(v instanceof _i)){var C,B=c(v),U=T(B)?yi(function(e,n){var r=n.then((function(n){var o,a;return(null===(a=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&Ri(e,s,n),n})).catch((function(n){var o,a;throw(null===(a=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&Ei(e,s,hi(n)),n}));return r}(n,B)):pi(B);o.atomValues.set(t,U),null===(C=n.getState().nextTree)||void 0===C||C.atomValues.set(t,U)}return function(){var e;a--,null===(e=l.get(n))||void 0===e||e.forEach((function(e){return e()})),l.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){u=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==bi(t)&&a<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:o});return s}function Li(e){if("string"!=typeof e.key)throw w("A key option with a unique string value must be provided when creating an atom.");if(!("default"in e))throw w("A default value must be specified when creating an atom.");var t=e.default,n=o(e,g);return ki(t)?function(e){var t=Li(k(k({},e),{},{default:gi,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:k(k({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof _i?t:R(e.persistence_UNSTABLE).validator(t,gi)}}),effects_UNSTABLE:e.effects_UNSTABLE})),n=vi({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof _i?e.default:r},set:function(e,n){return(0,e.set)(t,n)},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return wi(n.key,bi(e.key)),n}(k(k({},n),{},{default:t})):Vi(k(k({},n),{},{default:t}))}var Mi=Li,Ci=function(){function e(t){var n;h(this,e),E(this,"_map",void 0),E(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null==t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return y(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Bi=Object.freeze({__proto__:null,MapCache:Ci}),Ui=Ca.LRUCache,xi=Bi.MapCache,Di={equality:"reference",eviction:"none",maxSize:1/0};function Oi(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return wa(e)}}throw w("Unrecognized equality policy ".concat(e))}function Ii(e,t,n){switch(e){case"keep-all":return new xi({mapKey:n});case"lru":return new Ui({mapKey:n,maxSize:R(t)});case"most-recent":return new Ui({mapKey:n,maxSize:1})}throw w("Unrecognized eviction policy ".concat(e))}var Pi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di,t=e.equality,n=void 0===t?Di.equality:t,r=e.eviction,o=void 0===r?Di.eviction:r,a=e.maxSize,i=void 0===a?Di.maxSize:a,u=Oi(n),l=Ii(o,i,u);return l},Fi=ke.setConfigDeletionHandler,zi=function(e){var t,n,r=Pi({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,a=r.get(t);if(null!=a)return a;e.cachePolicyForParams_UNSTABLE;var i=o(e,_),u=Mi(k(k({},i),{},{key:"".concat(e.key,"__").concat(null!==(n=wa(t))&&void 0!==n?n:"void"),default:"function"==typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE}));return r.set(t,u),Fi(u.key,(function(){r.delete(t)})),u}},ji=ke.setConfigDeletionHandler,qi=0,Wi=function(e){var t,n,r=Pi({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,o=r.get(t);if(null!=o)return o;var a,i="".concat(e.key,"__selectorFamily/").concat(null!==(n=wa(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(qi++),u=function(n){return e.get(t)(n)},l=e.cachePolicy_UNSTABLE,c="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var s=e.set;a=vi({key:i,get:u,set:function(e,n){return s(t)(e,n)},cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else a=vi({key:i,get:u,cachePolicy_UNSTABLE:l,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,a),ji(a.key,(function(){r.delete(t)})),a}},Ki=Wi({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}}),Hi=function(e){return Ki(e)},Gi=Wi({key:"__error",get:function(e){return function(){throw w(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}}),$i=function(e){return Gi(e)},Zi=function(e){return e},Ji=G.loadableWithError,Xi=G.loadableWithPromise,Yi=G.loadableWithValue;function Qi(e,t){var n,r=Array(t.length).fill(void 0),o=Array(t.length).fill(void 0),a=b(t.entries());try{for(a.s();!(n=a.n()).done;){var u=i(n.value,2),l=u[0],c=u[1];try{r[l]=e(c)}catch(e){o[l]=e}}}catch(e){a.e(e)}finally{a.f()}return[r,o]}function eu(e){return null!=e&&!T(e)}function tu(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function nu(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return k(k({},e),{},c({},n,t[r]))}),{})}function ru(e,t,n){return nu(e,n.map((function(e,n){return null==e?Yi(t[n]):T(e)?Xi(e):Ji(e)})))}var ou=Wi({key:"__waitForNone",get:function(e){return function(t){var n=Qi(t.get,tu(e)),r=i(n,2),o=r[0],a=r[1];return ru(e,o,a)}},dangerouslyAllowMutability:!0}),au=Wi({key:"__waitForAny",get:function(e){return function(t){var n=Qi(t.get,tu(e)),r=i(n,2),o=r[0],a=r[1];return a.some((function(e){return!T(e)}))?ru(e,o,a):new Promise((function(t){var n,r=b(a.entries());try{var u=function(){var r=i(n.value,2),u=r[0],l=r[1];T(l)&&l.then((function(n){o[u]=n,a[u]=void 0,t(ru(e,o,a))})).catch((function(n){a[u]=n,t(ru(e,o,a))}))};for(r.s();!(n=r.n()).done;)u()}catch(e){r.e(e)}finally{r.f()}}))}},dangerouslyAllowMutability:!0}),iu={waitForNone:ou,waitForAny:au,waitForAll:Wi({key:"__waitForAll",get:function(e){return function(t){var n=Qi(t.get,tu(e)),r=i(n,2),o=r[0],a=r[1];if(a.every((function(e){return null==e})))return nu(e,o);var u=a.find(eu);if(null!=u)throw u;return Promise.all(a).then((function(t){return nu(e,(n=o,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),waitForAllSettled:Wi({key:"__waitForAllSettled",get:function(e){return function(t){var n=Qi(t.get,tu(e)),r=i(n,2),o=r[0],a=r[1];return a.every((function(e){return!T(e)}))?ru(e,o,a):Promise.all(a.map((function(e,t){return T(e)?e.then((function(e){o[t]=e,a[t]=void 0})).catch((function(e){o[t]=void 0,a[t]=e})):null}))).then((function(){return ru(e,o,a)}))}},dangerouslyAllowMutability:!0}),noWait:Wi({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return Yi(n(e))}catch(e){return T(e)?Xi(e):Ji(e)}}},dangerouslyAllowMutability:!0})},uu=G.RecoilLoadable,lu=ke.DefaultValue,cu=ir,su=he.isRecoilValue,fu=Ze,du=En.freshSnapshot,vu={DefaultValue:lu,isRecoilValue:su,RecoilLoadable:uu,RecoilRoot:cu,useRecoilBridgeAcrossReactRoots_UNSTABLE:Po,atom:Mi,selector:vi,atomFamily:zi,selectorFamily:Wi,constSelector:Hi,errorSelector:$i,readOnlySelector:Zi,noWait:iu.noWait,waitForNone:iu.waitForNone,waitForAny:iu.waitForAny,waitForAll:iu.waitForAll,waitForAllSettled:iu.waitForAllSettled,useRecoilValue:ro,useRecoilValueLoadable:oo,useRecoilState:to,useRecoilStateLoadable:no,useSetRecoilState:io,useResetRecoilState:ao,useGetRecoilValueInfo_UNSTABLE:xo,useRecoilRefresher_UNSTABLE:da,useRecoilCallback:la,useRecoilTransaction_UNSTABLE:pa,useGotoRecoilSnapshot:Lo,useRecoilSnapshot:Vo,useRecoilTransactionObserver_UNSTABLE:Mo,useTransactionObservation_UNSTABLE:Co,useSetUnvalidatedAtomValues_UNSTABLE:uo,snapshot_UNSTABLE:du,useRetain:Mr,retentionZone:fu},hu=vu.DefaultValue,yu=vu.isRecoilValue,pu=vu.RecoilLoadable,mu=vu.RecoilRoot,gu=vu.useRecoilBridgeAcrossReactRoots_UNSTABLE,_u=vu.atom,bu=vu.selector,Su=vu.atomFamily,wu=vu.selectorFamily,ku=vu.constSelector,Au=vu.errorSelector,Tu=vu.readOnlySelector,Ru=vu.noWait,Eu=vu.waitForNone,Nu=vu.waitForAny,Vu=vu.waitForAll,Lu=vu.waitForAllSettled,Mu=vu.useRecoilValue,Cu=vu.useRecoilValueLoadable,Bu=vu.useRecoilState,Uu=vu.useRecoilStateLoadable,xu=vu.useSetRecoilState,Du=vu.useResetRecoilState,Ou=vu.useGetRecoilValueInfo_UNSTABLE,Iu=vu.useRecoilRefresher_UNSTABLE,Pu=vu.useRecoilCallback,Fu=vu.useRecoilTransaction_UNSTABLE,zu=vu.useGotoRecoilSnapshot,ju=vu.useRecoilSnapshot,qu=vu.useRecoilTransactionObserver_UNSTABLE,Wu=vu.useTransactionObservation_UNSTABLE,Ku=vu.useSetUnvalidatedAtomValues_UNSTABLE,Hu=vu.snapshot_UNSTABLE,Gu=vu.useRetain,$u=vu.retentionZone;e.DefaultValue=hu,e.RecoilLoadable=pu,e.RecoilRoot=mu,e.atom=_u,e.atomFamily=Su,e.constSelector=ku,e.default=vu,e.errorSelector=Au,e.isRecoilValue=yu,e.noWait=Ru,e.readOnlySelector=Tu,e.retentionZone=$u,e.selector=bu,e.selectorFamily=wu,e.snapshot_UNSTABLE=Hu,e.useGetRecoilValueInfo_UNSTABLE=Ou,e.useGotoRecoilSnapshot=zu,e.useRecoilBridgeAcrossReactRoots_UNSTABLE=gu,e.useRecoilCallback=Pu,e.useRecoilRefresher_UNSTABLE=Iu,e.useRecoilSnapshot=ju,e.useRecoilState=Bu,e.useRecoilStateLoadable=Uu,e.useRecoilTransactionObserver_UNSTABLE=qu,e.useRecoilTransaction_UNSTABLE=Fu,e.useRecoilValue=Mu,e.useRecoilValueLoadable=Cu,e.useResetRecoilState=Du,e.useRetain=Gu,e.useSetRecoilState=xu,e.useSetUnvalidatedAtomValues_UNSTABLE=Ku,e.useTransactionObservation_UNSTABLE=Wu,e.waitForAll=Vu,e.waitForAllSettled=Lu,e.waitForAny=Nu,e.waitForNone=Eu,Object.defineProperty(e,"__esModule",{value:!0})},"object"===("undefined"==typeof exports?"undefined":p(exports))&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t((e=e||self).Recoil={},e.React,e.ReactDOM);
